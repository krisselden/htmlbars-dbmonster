exports.__esModule = true;
function EntityParser(namedCodepoints) {
  this.namedCodepoints = namedCodepoints;
}

EntityParser.prototype.parse = function (tokenizer) {
  var input = tokenizer.input.slice(tokenizer.index);
  var matches = input.match(/^#(?:x|X)([0-9A-Fa-f]+);/);
  if (matches) {
    tokenizer.index += matches[0].length;
    return String.fromCharCode(parseInt(matches[1], 16));
  }
  matches = input.match(/^#([0-9]+);/);
  if (matches) {
    tokenizer.index += matches[0].length;
    return String.fromCharCode(parseInt(matches[1], 10));
  }
  matches = input.match(/^([A-Za-z]+);/);
  if (matches) {
    var codepoints = this.namedCodepoints[matches[1]];
    if (codepoints) {
      tokenizer.index += matches[0].length;
      for (var i = 0, buffer = ''; i < codepoints.length; i++) {
        buffer += String.fromCharCode(codepoints[i]);
      }
      return buffer;
    }
  }
};

exports.default = EntityParser;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpbXBsZS1odG1sLXRva2VuaXplci9lbnRpdHktcGFyc2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxTQUFTLFlBQVksQ0FBQyxlQUFlLEVBQUU7QUFDckMsTUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7Q0FDeEM7O0FBRUQsWUFBWSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxTQUFTLEVBQUU7QUFDbEQsTUFBSSxLQUFLLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ25ELE1BQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztBQUN0RCxNQUFJLE9BQU8sRUFBRTtBQUNYLGFBQVMsQ0FBQyxLQUFLLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNyQyxXQUFPLE1BQU0sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQ3REO0FBQ0QsU0FBTyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDckMsTUFBSSxPQUFPLEVBQUU7QUFDWCxhQUFTLENBQUMsS0FBSyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDckMsV0FBTyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztHQUN0RDtBQUNELFNBQU8sR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ3ZDLE1BQUksT0FBTyxFQUFFO0FBQ1gsUUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsRCxRQUFJLFVBQVUsRUFBRTtBQUNkLGVBQVMsQ0FBQyxLQUFLLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNyQyxXQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ3ZELGNBQU0sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQzlDO0FBQ0QsYUFBTyxNQUFNLENBQUM7S0FDZjtHQUNGO0NBQ0YsQ0FBQzs7a0JBRWEsWUFBWSIsImZpbGUiOiJzaW1wbGUtaHRtbC10b2tlbml6ZXIvZW50aXR5LXBhcnNlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIEVudGl0eVBhcnNlcihuYW1lZENvZGVwb2ludHMpIHtcbiAgdGhpcy5uYW1lZENvZGVwb2ludHMgPSBuYW1lZENvZGVwb2ludHM7XG59XG5cbkVudGl0eVBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAodG9rZW5pemVyKSB7XG4gIHZhciBpbnB1dCA9IHRva2VuaXplci5pbnB1dC5zbGljZSh0b2tlbml6ZXIuaW5kZXgpO1xuICB2YXIgbWF0Y2hlcyA9IGlucHV0Lm1hdGNoKC9eIyg/Onh8WCkoWzAtOUEtRmEtZl0rKTsvKTtcbiAgaWYgKG1hdGNoZXMpIHtcbiAgICB0b2tlbml6ZXIuaW5kZXggKz0gbWF0Y2hlc1swXS5sZW5ndGg7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQobWF0Y2hlc1sxXSwgMTYpKTtcbiAgfVxuICBtYXRjaGVzID0gaW5wdXQubWF0Y2goL14jKFswLTldKyk7Lyk7XG4gIGlmIChtYXRjaGVzKSB7XG4gICAgdG9rZW5pemVyLmluZGV4ICs9IG1hdGNoZXNbMF0ubGVuZ3RoO1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG1hdGNoZXNbMV0sIDEwKSk7XG4gIH1cbiAgbWF0Y2hlcyA9IGlucHV0Lm1hdGNoKC9eKFtBLVphLXpdKyk7Lyk7XG4gIGlmIChtYXRjaGVzKSB7XG4gICAgdmFyIGNvZGVwb2ludHMgPSB0aGlzLm5hbWVkQ29kZXBvaW50c1ttYXRjaGVzWzFdXTtcbiAgICBpZiAoY29kZXBvaW50cykge1xuICAgICAgdG9rZW5pemVyLmluZGV4ICs9IG1hdGNoZXNbMF0ubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGJ1ZmZlciA9ICcnOyBpIDwgY29kZXBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBidWZmZXIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlcG9pbnRzW2ldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBFbnRpdHlQYXJzZXI7XG4iXX0=